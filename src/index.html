<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>ZealPortfolio</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body onload="followMouse();">
  <div id="cursor"></div>
  <div id="cursor-follow"></div>
  <app-root></app-root>
  <script type="text/javascript">
    var $ = document.querySelector.bind(document);
    var $on = document.addEventListener.bind(document);
    var xmouse, ymouse;

    var cursor = $('#cursor');
    var cursorFollow = $('#cursor-follow');
    $on('mousemove', function(e) {
      xmouse = e.pageX;
      ymouse = e.pageY;
    });

    var x = void 0,
        y = void 0,
        dx = void 0,
        dy = void 0,
        key = -1;

    var followMouse = function followMouse() {
      key = requestAnimationFrame(followMouse);
      if(!x || !y) {
        x = xmouse;
        y = ymouse;
      } else {
        dx = (xmouse - x) * 0.125;
        dy = (ymouse - y) * 0.125;
        if(Math.abs(dx) + Math.abs(dy) < 0.1) {
          x = xmouse;
          y = ymouse;
        } else {
          x += dx;
          y += dy;
        }
      }
      cursor.style.left = xmouse + 'px';
      cursor.style.top = ymouse + 'px';
      cursorFollow.style.left = x + 'px';
      cursorFollow.style.top = y + 'px';
    }
  </script>
</body>
</html>
